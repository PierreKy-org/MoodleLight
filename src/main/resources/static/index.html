<!DOCTYPE html>
<html>
<head>
    <title>API REST</title>
    <link rel="stylesheet" href="src/main/resources/static/style.css">
</head>
<body>

<section>
    <h1>/api/auth</h1>

    <article>
        <h1>/signup</h1>
        <h3>Allow the creation of a new user</h3>
        <code>curl -X POST http://localhost:8080/api/auth/signup -H 'Content-Type: application/json' -d
            '{"username":"admin","password":"abcdef1234","email":"admin@gmail.com"}'</code>
        <h3>Returns the following JSON</h3>
        <pre class="json">
        {"message":"User registered successfully!"}
    </pre>
        <h3>Or an Error if the username of email are already taken</h3>
        <pre class="json">
        {"message":"Error: Username is already taken!"}
    </pre>
        <p>It add the user to the database</p>
    </article>

    <article>
        <h1>/signin</h1>
        <h3>Allow the user to get his Authentication token</h3>
        <code>curl -X POST http://localhost:8080/api/auth/signin -H 'Content-Type: application/json' -d
            '{"username":"admin","password":"abcdef1234"'}</code>
        <h3>Returns the following JSON</h3>
        <pre class="json">
    {   "id":2,
        "username":"admin",
        "email":"admin@gmail.com",
        "roles":["ROLE_STUDENT"],
        "accessToken":"TOKEN",
        "tokenType":"Bearer"
        }
    </pre>
        <p>It allow the user to know his access Token.</p>
    </article>

</section>

<section>
    <h1>/api/user</h1>

    <article>
        <h1>/{user_id}/username</h1>
        <h3>Return the username of the user</h3>
        <code>curl -X GET http://localhost:8080/api/user/{user_id}/username -H 'Authorization: Bearer TOKEN'</code>
        <h3>Returns the following JSON</h3>
        <pre class="json">
        {"username":Quentin}
    </pre>
        <h3>404 if the user does not exist</h3>
    </article>

    <article>
        <h1>/{user_id}/email</h1>
        <h3>Return the email of the user</h3>
        <code>curl -X GET http://localhost:8080/api/user/{user_id}/email -H 'Authorization: Bearer TOKEN'</code>
        <h3>Returns the following JSON</h3>
        <pre class="json">
        {"email":quentin.beauchet@unice.fr}
    </pre>
        <h3>404 if the user does not exist</h3>
    </article>

    <article>
        <h1>/{user_id}/roles</h1>
        <h3>Return the roles of the user</h3>
        <code>curl -X GET http://localhost:8080/api/user/{user_id}/roles -H 'Authorization: Bearer TOKEN'</code>
        <h3>Returns the following JSON</h3>
        <pre class="json">
        [
            {
                "id":1,
                "name":ROLE_STUDENT
            },
            {
                "id":3,
                "name":ROLE_ADMIN
            },
            ]
    </pre>
        <h3>404 if the user does not exist</h3>
    </article>

    <article>
        <h1>/{user_id}/modules</h1>
        <h3>Return the username of the user</h3>
        <code>curl -X GET http://localhost:8080/api/user/{user_id}/modules -H 'Authorization: Bearer TOKEN'</code>
        <h3>Returns the following JSON</h3>
        <pre class="json">
        [
            {
                "id":1,
                "name":Gestion de projet
            },
            ]
    </pre>
        <h3>404 if the user does not exist</h3>
    </article>

</section>
</body>
<style>
    article {
    background-color: lightgrey;
    padding: 0.2rem 1rem 0.2rem  1rem;
    margin-bottom: 2rem;
}

code {
    padding: 0.5rem;
    background-color : white;
    border: 1px dashed black;
}

.json {
    padding: 0.5rem;
    background-color : white;
    border: 1px dashed black;
}




</style>
</html>